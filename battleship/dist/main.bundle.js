(()=>{"use strict";var e={88:(e,t,n)=>{e.exports=n.p+"images/40097f3f75febd0599bf..svg"},382:(e,t,n)=>{e.exports=n.p+"images/eeabfa00c3d44d837a8f..svg"},481:(e,t,n)=>{e.exports=n.p+"images/eda049555678afd040e5..svg"},773:(e,t,n)=>{e.exports=n.p+"images/71683dd725d722550010..svg"},69:(e,t,n)=>{e.exports=n.p+"images/0bfcdcc7ba73e336d45b..svg"},674:(e,t,n)=>{e.exports=n.p+"images/35de723f256f4f74b6b7..svg"},53:(e,t,n)=>{e.exports=n.p+"images/34887d868b09f701a970..svg"},505:(e,t,n)=>{e.exports=n.p+"images/fcc846513c00637ee6eb..svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{const e=(e,t,n,a)=>{e.innerHTML=`\n    <section class="game-over">\n        <h2 class="game-over__result">${n} wins the game!</h2>\n        <img\n          src=${t}\n          alt="Winner Icon"\n          class="game-over__icon"\n        />\n        <p class="game-over__message">${a}</p>\n        <button id="resetGame" class="btn">Play Again</button>\n\n        <p class="game-over__link">\n          <a\n            target="__blank"\n            href="https://github.com/JorgeAMendoza/TheOdinProject_Projects/tree/master/battleship"\n            >See Code on GitHub</a\n          >\n        </p>\n      </section>\n    </main>\n  `};var t=n(481),a=n(382);const r=(n,r,s,o)=>{const i=n,c=i.querySelector(".container");"player"===r?e(c,t,s,"Your opponent has waved the white flag"):e(c,a,s,"Your entire fleet has been sunk");i.querySelector("#resetGame").addEventListener("click",(()=>{o.renderStart(o)}))},s=()=>{const e=[];let t=0,n=0;for(let a=0;a<100;a+=1){const a=`<div class="placement-board__board-piece" data-coordinate='${t},${n}'></div>`;e.push(a),n+=1,10===n&&(n=0,t+=1)}return e.join("")},o=(e,t)=>{e.innerHTML=`\n  <section class="game-active">\n    <div id="playerBoard" class="placement-board">\n      <h3 class="placement-board__text">${t}'s Fleet</h3>\n      <div class="placement-board__board">\n        ${s()}\n      </div>\n    </div>\n\n    <div id="enemyBoard" class="placement-board">\n      <h3 class="placement-board__text header-three">Enemy Fleet</h3>\n      <div class="placement-board__board">\n      ${s()}\n      </div>\n    </div>\n  </section>`},i=(e,t,n,a)=>{const r=e,s=r.querySelector(".container");o(s,t.getPlayerName());const i=r.querySelectorAll("#playerBoard .placement-board__board-piece"),c=r.querySelectorAll("#enemyBoard .placement-board__board-piece"),l=t,d=n,p={};let m=!0;const h=()=>{if(m)return;let e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());for(;p[`${e},${t}`];)e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());p[`${e},${t}`]=!0;const n=10*e+t%10;switch(l.getAttack(e,t)){case"hit":case"sunk":i[n].classList.add("placement-board__board-piece--red"),h();break;case"win":i[n].classList.add("placement-board__board-piece--red"),a.renderEnd(a,"opponent",d.getPlayerName());break;default:m=!0,i[n].classList.add("placement-board__board-piece--grey")}},u=e=>{if(!m)return;const[t,n]=e.target.dataset.coordinate.split(",").map((e=>+e)),r=d.getAttack(t,n);switch(e.target.removeEventListener("click",u),r){case"hit":case"sunk":m=!0,e.target.classList.add("placement-board__board-piece--red");break;case"win":e.target.classList.add("placement-board__board-piece--red"),a.renderEnd(a,"player",l.getPlayerName());break;default:e.target.classList.add("placement-board__board-piece--grey"),m=!1}h()};c.forEach((e=>{e.addEventListener("click",u)})),s.classList.remove("container--set-content")};var c=n(69),l=n(773),d=n(674),p=n(53),m=n(505),h=n(88);const u=e=>{e.innerHTML=`<h2 class="game-message header-two">Place Your Fleet</h2>\n  <section id="gameSetup" class="game-setup">\n    <div class="place-ships">\n      <img\n        src=${c}\n        alt="Carrier Ship"\n        class="place-ships__ship-icon"\n      />\n      <img\n        src=${l}\n        alt="Battle ship"\n        class="place-ships__ship-icon"\n      />\n      <img\n        src=${d}\n        alt="Destroyer Ship"\n        class="place-ships__ship-icon"\n      />\n      <img\n        src=${m}\n        alt="Submarine"\n        class="place-ships__ship-icon"\n      />\n      <img\n        src=${p}\n        alt="Patrol Boat"\n        class="place-ships__ship-icon"\n      />\n      <img\n        src=${h}\n        alt="Pointing to current ship"\n        class="place-ships__ship-indicator"\n        aria-hidden = "true"\n      />\n    </div>\n\n    <div class="placement-board">\n      <h3 class="placement-board__text"></h3>\n      <button id="axisChange" class="btn">Change Direction</button>\n      <div class="placement-board__board">\n        ${s()}\n      </div>\n    </div>\n  </section>`};function g(e,t){const n={name:e,length:t,points:new Array(t).fill(!1)};return{hit:e=>!n.points[e]&&(n.points[e]=!0,!0),isSunk:()=>!!n.points.every((e=>!0===e)),getLength:()=>n.length,getShipStatus:()=>[...n.points],getShipName:()=>n.name}}const b=e=>{const t=[],n=[g("Carrier",5),g("Battleship",4),g("Destroyer",3),g("Submarine",3),g("Patrol Boat",2)],a=()=>Math.floor(10*Math.random());for(let r=0;r<n.length;r+=1){const s=a(),o=a(),i=0===Math.floor(2*Math.random())?"x":"y",c=n[r],l=`${s},${o}`;t.includes(l)?r-=1:e.canPlace(c,s,o,i)?(e.placeShip(c,s,o,i),t.push(l)):(t.push(l),r-=1)}},v=(e,t)=>{const n=t.getBoundingClientRect();e.style.setProperty("transform",`translate(${n.left+12}px, 220px) rotate(180deg)`)},_=(e,t,n)=>{const a=e,r=a.querySelector(".container");u(r);const s=r.querySelectorAll(".place-ships__ship-icon"),o=r.querySelector(".place-ships__ship-indicator"),i=r.querySelector(".btn"),c=r.querySelectorAll(".placement-board__board-piece"),{player:l,opponent:d}=t;let p=!1,m="x";const h=[g("Carrier",5),g("Battleship",4),g("Destroyer",3),g("Submarine",3),g("Patrol Boat",2)];let _=0;const f=(e,t,n,a,r=!1)=>{if("x"===n)for(let n=t;n<t+h[_].getLength();n+=1){const t=10*e+n;r?c[t].classList.remove(a):c[t].classList.add(a)}else for(let n=e;n<e+h[_].getLength();n+=1){const e=10*n+t;r?c[e].classList.remove(a):c[e].classList.add(a)}},y=e=>{const[t,n]=e.target.dataset.coordinate.split(",").map((e=>Number(e)));if(!l.canPlace(h[_],t,n,m))return p=!1,void e.target.classList.add("placement-board__board-piece--red");p=!0,f(t,n,m,"placement-board__board-piece--grey")},L=e=>{if(!p)return void e.target.classList.remove("placement-board__board-piece--red");const[t,n]=e.target.dataset.coordinate.split(",").map((e=>Number(e)));f(t,n,m,"placement-board__board-piece--grey",!0)},S=e=>{if(!p)return;const[t,a]=e.target.dataset.coordinate.split(",").map((e=>Number(e)));if(f(t,a,m,"placement-board__board-piece--grey",!0),f(t,a,m,"placement-board__board-piece--blue"),"x"===m)for(let e=a;e<a+h[_].getLength();e+=1){const n=10*t+e;c[n].removeEventListener("mouseenter",y),c[n].removeEventListener("mouseleave",L),c[n].removeEventListener("click",S)}else for(let e=t;e<t+h[_].getLength();e+=1){const t=10*e+a;c[t].removeEventListener("mouseenter",y),c[t].removeEventListener("mouseleave",L),c[t].removeEventListener("click",S)}if(l.placeShip(h[_],t,a,m),4===_)return b(d),r.addEventListener("transitionend",(()=>{n.renderArea(n,l,d)})),void r.classList.add("container--set-content");_+=1,v(o,s[_])};v(o,s[0]),c.forEach((e=>{e.addEventListener("mouseenter",y),e.addEventListener("mouseleave",L),e.addEventListener("click",S)})),i.addEventListener("click",(()=>{m="x"===m?"y":"x"})),o.classList.add("place-ships__ship-indicator--show"),r.classList.add("container--game-active"),a.classList.add("body--game-active"),r.classList.remove("container--set-content")},f=e=>{e.innerHTML=`<header>\n    <h1 class="game-title header-one">Battleship</h1>\n    <div class="header-icon">\n      <img\n        src=${l}\n        alt="Battleship Icon"\n      />\n    </div>\n  </header>\n\n  <main class="container">\n    <h2 class="game-message header-two">Please Enter Your Name</h2>\n    <form id="nameInput" class="name-input">\n      <input type="text" name="playerName" id="playerName" class="input" />\n      <button class="btn">Start</button>\n    </form>\n    </main>`};function y(e,t){const n=e,a=t;return{placeShip:(e,t,n,r)=>a.placeShip(e,t,n,r),getPlayerName:()=>n,getAttack:(e,t)=>a.receiveAttack(e,t),canPlace:(e,t,n,r)=>a.canBePlaced(e,t,n,r),getBoard:()=>a.returnBoard()}}function L(){const e=Array(10).fill().map((()=>Array(10).fill(0))),t=[],n=(t,n)=>0!==e[t][n];return{placeShip:(n,a,r,s)=>{const o=n.getLength();let i=a,c=r;for(let t=0;t<o;t+=1)e[i][c]={index:t,ship:n},"x"===s?c+=1:i+=1;return t.push(n),!0},receiveAttack:(n,a)=>{if(0===e[n][a])return"missed";const{ship:r,index:s}=e[n][a];return r.hit(s),r.isSunk()?(()=>{for(let e=0;e<t.length;e+=1)if(!t[e].isSunk())return!1;return!0})()?"win":"sunk":"hit"},returnBoard:()=>e,canBePlaced:(e,t,a,r)=>{const s=e.getLength();let o=t,i=a;if("x"===r)for(let e=0;e<s;e+=1){if(i>9||n(o,i))return!1;i+=1}else for(let e=0;e<s;e+=1){if(o>9||n(o,i))return!1;o+=1}return!0}}}const S=(e,t)=>{const n=e;f(n);const a=n.querySelector("#nameInput"),r=n.querySelector("header"),s=n.querySelector(".container");let o;a.addEventListener("submit",(e=>{e.preventDefault();const t=e.target.elements[0].value;""!==t&&(s.classList.add("container--set-content"),r.classList.add("game-start"),o={player:y(t,L()),opponent:y("Opponent",L())})})),r.addEventListener("animationstart",(()=>{r.querySelector(".header-icon").classList.add("header-icon--hide")})),r.addEventListener("animationend",(()=>t.renderSetup(t,o)))},x=()=>{const e=document.querySelector("body");return{renderStart:t=>S(e,t),renderSetup:(t,n)=>{_(e,n,t)},renderArea:(t,n,a)=>{i(e,n,a,t)},renderEnd:(t,n,a)=>{e.classList.remove("body--game-active"),r(e,n,a,t)}}};(function(){const e=x();return{start:()=>{e.renderStart(e)}}})().start()})()})();